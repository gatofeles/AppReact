{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/gatofeles/Documentos/oiLuigi/oiLuigiNode/frontend/luigi/src/components/updateTopics.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Joi from 'joi';\nimport jwtDecode from 'jwt-decode';\nimport AddTopicos from './addTopicos';\n\nclass UpdateTopic extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listSelector: '',\n      form: {\n        materia: '',\n        assunto: '',\n        topico: '',\n        preReqs: []\n      },\n      selected: false\n    };\n\n    this.splitTopicosList = catalogo => {\n      let listaDeTopicos = [];\n\n      for (let i = 0; i < catalogo.length; i++) {\n        if (!listaDeTopicos.includes(catalogo[i].topico)) {\n          listaDeTopicos.push(catalogo[i].topico);\n        }\n      }\n\n      return listaDeTopicos;\n    };\n\n    this.handleSubmit = async e => {\n      const backEndPoint = process.env.REACT_APP_API_URL;\n      e.preventDefault();\n      const valid = this.validateEnter(this.state.form);\n\n      if (valid.error) {\n        alert(valid.error.message);\n      } else {\n        try {\n          const result = await axios.post(backEndPoint + '/topicos/add', this.state.form, {\n            headers: {\n              'x-auth-token': localStorage.getItem('token')\n            }\n          });\n          alert(\"Tópico adicionado com sucesso.\");\n        } catch (ex) {\n          alert(ex);\n        }\n      }\n    };\n\n    this.handleChange = e => {\n      const newForm = { ...this.state.form\n      };\n\n      if (e.currentTarget.name === 'preReqs') {\n        let list = e.currentTarget.value.split(',');\n        newForm[e.currentTarget.name] = list;\n      } else {\n        newForm[e.currentTarget.name] = e.currentTarget.value;\n      }\n\n      this.setState({\n        form: newForm\n      });\n    };\n\n    this.handleListChange = e => {\n      let newForm = { ...this.state.form\n      };\n      this.setState({\n        listSelector: e.currentTarget.value\n      });\n      const topic = this.props.catalogos.filter(c => c.topico === e.currentTarget.value);\n      console.log(topic[0]);\n      newForm.materia = topic[0].materia;\n      newForm.assunto = topic[0].assunto;\n      newForm.topico = topic[0].topico;\n      newForm.preReqs = topic[0].preReqs;\n      console.log(newForm);\n      this.setState({\n        form: newForm\n      });\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token');\n    const user = jwtDecode(token);\n\n    if (!user.isAdmin) {\n      alert('Você não tem permissão para acessar esta página.');\n      this.props.history.push(\"/\");\n    }\n  }\n\n  render() {\n    const topicos = this.splitTopicosList(this.props.catalogos);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addTopicos\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tela de corre\\xE7\\xE3o de t\\xF3picos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"addForm\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"chooseTopic\",\n            children: \"Materia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            list: \"topicList\",\n            onChange: this.handleListChange,\n            value: this.state.listSelector,\n            name: \"chooseTopic\",\n            className: \"addInput\",\n            type: \"text\",\n            id: \"chooseTopic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n            id: \"topicList\",\n            children: topicos.map(topico => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: topico\n            }, topicos.indexOf(topico), false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 53\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"materia\",\n            children: \"Materia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"materia\",\n            value: this.state.form.materia,\n            onChange: this.handleChange,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"materia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"assunto\",\n            children: \"Assunto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"assunto\",\n            value: this.state.form.assunto,\n            onChange: this.handleChange,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"assunto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"topico\",\n            children: \"T\\xF3pico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"topico\",\n            value: this.state.form.topico,\n            onChange: this.handleChange,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"topico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"preReq\",\n            children: \"Pr\\xE9-Requisitos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"preReqs\",\n            value: this.state.form.preReqs,\n            onChange: this.handleChange,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"preReq\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"submitBtn\",\n            type: \"submit\",\n            value: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UpdateTopic;","map":{"version":3,"sources":["/home/gatofeles/Documentos/oiLuigi/oiLuigiNode/frontend/luigi/src/components/updateTopics.jsx"],"names":["React","Component","axios","Joi","jwtDecode","AddTopicos","UpdateTopic","state","listSelector","form","materia","assunto","topico","preReqs","selected","splitTopicosList","catalogo","listaDeTopicos","i","length","includes","push","handleSubmit","e","backEndPoint","process","env","REACT_APP_API_URL","preventDefault","valid","validateEnter","error","alert","message","result","post","headers","localStorage","getItem","ex","handleChange","newForm","currentTarget","name","list","value","split","setState","handleListChange","topic","props","catalogos","filter","c","console","log","componentDidMount","token","user","isAdmin","history","render","topicos","map","indexOf"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Joi from 'joi';\nimport jwtDecode from 'jwt-decode';\nimport AddTopicos from './addTopicos';\n\nclass UpdateTopic extends Component {\n\n    state = {\n        listSelector:'',\n        form : {\n            materia:'',\n            assunto:'',\n            topico:'',\n            preReqs:[]\n        },\n        selected:false\n    }\n\n    componentDidMount() {\n\n        const token = localStorage.getItem('token');\n        const user = jwtDecode(token);\n        if(!user.isAdmin){\n            alert('Você não tem permissão para acessar esta página.');\n            this.props.history.push(\"/\");\n        }\n\n       \n    }\n\n    splitTopicosList = (catalogo) => {\n\n        let listaDeTopicos = [];\n\n        for(let i = 0; i<catalogo.length; i++){\n            if(!listaDeTopicos.includes(catalogo[i].topico) ){\n                listaDeTopicos.push(catalogo[i].topico);\n            }\n        }\n        return listaDeTopicos;\n    }\n\n    handleSubmit = async e => {\n        const backEndPoint = process.env.REACT_APP_API_URL;\n\n        e.preventDefault();\n\n        const valid = this.validateEnter(this.state.form);\n        if(valid.error){\n            alert(valid.error.message);\n        }\n        else{\n            try{\n                const result  = await axios.post(backEndPoint+'/topicos/add', this.state.form, {\n                headers:{\n                    'x-auth-token': localStorage.getItem('token')\n                }\n            });\n            alert(\"Tópico adicionado com sucesso.\");\n            }\n            catch(ex){\n\n                alert(ex);\n\n            }\n        }\n        \n    }\n\n    handleChange = e => {\n        const newForm = {...this.state.form};\n\n        if(e.currentTarget.name === 'preReqs'){\n            let list = e.currentTarget.value.split(',');\n            newForm[e.currentTarget.name] = list;\n        }\n\n        else{\n            newForm[e.currentTarget.name] = e.currentTarget.value;\n        }\n\n        this.setState({form:newForm});\n    }\n\n\n\n\n    handleListChange = e => {\n\n        let newForm = {...this.state.form};\n        this.setState({ listSelector:e.currentTarget.value});\n        const topic = this.props.catalogos.filter(c => c.topico === e.currentTarget.value);\n        \n        console.log(topic[0]);\n       \n        newForm.materia = topic[0].materia;\n        newForm.assunto = topic[0].assunto;\n        newForm.topico = topic[0].topico;\n        newForm.preReqs = topic[0].preReqs;\n        \n        console.log(newForm);\n\n        this.setState({form:newForm});\n        \n    }\n\n\n\n\n\n\n    render() { \n        const topicos = this.splitTopicosList(this.props.catalogos);\n\n        return ( \n\n            <div className = \"addTopicos\">\n                <h2>Tela de correção de tópicos</h2>\n                \n                <form className = \"addForm\" onSubmit ={this.handleSubmit}>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"chooseTopic\">Materia</label>\n                        <input list = 'topicList' onChange = {this.handleListChange} value = {this.state.listSelector} name = 'chooseTopic' className = \"addInput\" type=\"text\" id=\"chooseTopic\" />\n                        <datalist id = 'topicList'>\n                            {topicos.map((topico)=> <option key = {topicos.indexOf(topico)} value = {topico}/>\n                            )}\n                        </datalist>\n                    </div>\n\n\n                    <div className=\"addItem\">\n                        <label htmlFor=\"materia\">Materia</label>\n                        <input name = 'materia'  value = {this.state.form.materia} onChange = {this.handleChange}  className = \"addInput\" type=\"text\" id=\"materia\" />\n                    </div>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"assunto\">Assunto</label>\n                        <input name = 'assunto' value = {this.state.form.assunto}  onChange = {this.handleChange}  className = \"addInput\"  type=\"text\" id=\"assunto\" />\n                    </div>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"topico\">Tópico</label>\n                        <input name = 'topico' value = {this.state.form.topico}  onChange = {this.handleChange} className = \"addInput\"  type=\"text\" id=\"topico\" />\n                    </div>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"preReq\">Pré-Requisitos</label>\n                        <input name = 'preReqs' value = {this.state.form.preReqs}  onChange = {this.handleChange} className = \"addInput\"  type=\"text\" id=\"preReq\"/>\n                    </div>\n                    <div className=\"addItem\">\n                        <input className = \"submitBtn\" type=\"submit\" value=\"Salvar\"/>\n                    </div>\n                </form>\n            </div>\n         );\n    }\n}\n \nexport default UpdateTopic;"]},"metadata":{},"sourceType":"module"}