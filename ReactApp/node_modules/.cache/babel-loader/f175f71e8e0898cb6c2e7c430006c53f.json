{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/gatofeles/Documentos/oiLuigi/oiLuigiNode/frontend/luigi/src/components/addTopicos.jsx\";\nimport React, { Component } from 'react';\nimport '../static/css/addMaterias.css';\nimport axios from 'axios';\nimport Joi from 'joi';\n\nclass AddTopicos extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      form: {\n        materia: '',\n        assunto: '',\n        topico: '',\n        preReqs: []\n      }\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const valid = this.validateEnter(this.state.form);\n\n      if (valid.error) {\n        console.log(valid.error.message);\n      } else {\n        const result = await axios.post('http://localhost:9000/api/topicos/add', this.state.form);\n        console.log(result);\n      }\n    };\n\n    this.handleChange = e => {\n      const newForm = { ...this.state.form\n      };\n\n      if (e.currentTarget.name === 'preReqs') {\n        let list = e.currentTarget.value.split(',');\n        newForm[e.currentTarget.name] = list;\n      } else {\n        newForm[e.currentTarget.name] = e.currentTarget.value;\n      }\n\n      this.setState({\n        form: newForm\n      });\n    };\n  }\n\n  validateEnter(topico) {\n    const schema = Joi.object({\n      materia: Joi.string().max(70).min(3).required(),\n      assunto: Joi.string().max(70).min(3).required(),\n      topico: Joi.string().max(70).min(3).required(),\n      preReqs: Joi.array().required()\n    });\n    return schema.validate(topico);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addTopicos\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tela de adi\\xE7\\xE3o de t\\xF3picos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"addForm\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"materia\",\n            children: \"Materia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"materia\",\n            value: this.state.form.materia,\n            onChange: this.handleChange,\n            autoFocus: true,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"materia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"assunto\",\n            children: \"Assunto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"assunto\",\n            value: this.state.form.assunto,\n            onChange: this.handleChange,\n            autoFocus: true,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"assunto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"topico\",\n            children: \"T\\xF3pico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"topico\",\n            value: this.state.form.topico,\n            onChange: this.handleChange,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"topico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"preReq\",\n            children: \"Pr\\xE9-Requisitos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"preReqs\",\n            value: this.state.form.preReqs,\n            onChange: this.handleChange,\n            autoFocus: true,\n            className: \"addInput\",\n            type: \"text\",\n            id: \"preReq\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addItem\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"submitBtn\",\n            type: \"submit\",\n            value: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddTopicos;","map":{"version":3,"sources":["/home/gatofeles/Documentos/oiLuigi/oiLuigiNode/frontend/luigi/src/components/addTopicos.jsx"],"names":["React","Component","axios","Joi","AddTopicos","state","form","materia","assunto","topico","preReqs","handleSubmit","e","preventDefault","valid","validateEnter","error","console","log","message","result","post","handleChange","newForm","currentTarget","name","list","value","split","setState","schema","object","string","max","min","required","array","validate","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../static/css/addMaterias.css';\nimport axios from 'axios';\nimport Joi from 'joi';\n\nclass AddTopicos extends Component {\n\n    state = {\n        form : {\n            materia:'',\n            assunto:'',\n            topico:'',\n            preReqs:[]\n        }\n    }\n\n    validateEnter(topico){\n\n        const schema = Joi.object({\n            materia: Joi.string().max(70).min(3).required(),\n            assunto: Joi.string().max(70).min(3).required(),\n            topico:  Joi.string().max(70).min(3).required(),\n            preReqs:Joi.array().required()\n        })\n    \n        return schema.validate(topico);\n    }\n\n    handleSubmit = async e => {\n        e.preventDefault();\n        const valid = this.validateEnter(this.state.form);\n        if(valid.error){\n            console.log(valid.error.message);\n        }\n        else{\n        const result  = await axios.post('http://localhost:9000/api/topicos/add', this.state.form);\n        console.log(result);\n        }\n        \n    }\n\n    handleChange = e => {\n        const newForm = {...this.state.form};\n\n        if(e.currentTarget.name === 'preReqs'){\n            let list = e.currentTarget.value.split(',');\n            newForm[e.currentTarget.name] = list;\n        }\n\n        else{\n            newForm[e.currentTarget.name] = e.currentTarget.value;\n        }\n\n        this.setState({form:newForm});\n    }\n\n    \n    render() { \n        return ( \n            <div className = \"addTopicos\">\n                <h2>Tela de adição de tópicos</h2>\n                <form className = \"addForm\" onSubmit ={this.handleSubmit}>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"materia\">Materia</label>\n                        <input name = 'materia'  value = {this.state.form.materia} onChange = {this.handleChange} autoFocus className = \"addInput\" type=\"text\" id=\"materia\" />\n                    </div>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"assunto\">Assunto</label>\n                        <input name = 'assunto' value = {this.state.form.assunto}  onChange = {this.handleChange} autoFocus className = \"addInput\"  type=\"text\" id=\"assunto\" />\n                    </div>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"topico\">Tópico</label>\n                        <input name = 'topico' value = {this.state.form.topico}  onChange = {this.handleChange} className = \"addInput\"  type=\"text\" id=\"topico\" />\n                    </div>\n                    <div className=\"addItem\">\n                        <label htmlFor=\"preReq\">Pré-Requisitos</label>\n                        <input name = 'preReqs' value = {this.state.form.preReqs}  onChange = {this.handleChange} autoFocus className = \"addInput\"  type=\"text\" id=\"preReq\"/>\n                    </div>\n                    <div className=\"addItem\">\n                        <input className = \"submitBtn\" type=\"submit\" value=\"Salvar\"/>\n                    </div>\n                </form>\n            </div>\n         );\n    }\n}\n \nexport default AddTopicos;"]},"metadata":{},"sourceType":"module"}